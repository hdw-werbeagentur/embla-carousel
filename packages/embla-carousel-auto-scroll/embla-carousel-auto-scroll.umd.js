!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t="undefined"!=typeof globalThis?globalThis:t||self).EmblaCarouselAutoScroll=o()}(this,(function(){"use strict";const t={direction:"forward",speed:2,startDelay:1e3,active:!0,breakpoints:{},playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,rootNode:null};function o(n={}){let e,i,s,r,c,a=!1,l=!0,u=0;function d(){if(s||a)return;if(!l)return;i.emit("autoScroll:play");const t=i.internalEngine(),{ownerWindow:o}=t;u=o.setTimeout((()=>{t.scrollBody=function(t){const{location:o,previousLocation:n,offsetLocation:s,target:r,scrollTarget:c,index:a,indexPrevious:l,limit:{reachedMin:u,reachedMax:d,constrain:p},options:{loop:g}}=t,y="forward"===e.direction?-1:1,m=()=>h;let O=0,w=0,b=o.get(),v=0,I=!1;function S(t){const m=t/1e3;let S=0;n.set(o),O=y*e.speed*55,b+=O,o.add(O*m),r.set(o),S=b-v,w=Math.sign(S),v=b;const D=c.byDistance(0,!1).index;a.get()!==D&&(l.set(a.get()),a.set(D),i.emit("select"));const E="forward"===e.direction?u(s.get()):d(s.get());if(!g&&E){I=!0;const t=p(o.get());o.set(t),r.set(o),f()}return h}const h={direction:()=>w,duration:()=>-1,velocity:()=>O,settled:()=>I,seek:S,useBaseFriction:m,useBaseDuration:m,useFriction:m,useDuration:m};return h}(t),t.animation.start()}),r),a=!0}function f(){if(s||!a)return;i.emit("autoScroll:stop");const t=i.internalEngine(),{ownerWindow:o}=t;t.scrollBody=c,o.clearTimeout(u),u=0,a=!1}function p(){l&&d(),i.off("settle",p)}function g(){i.on("settle",p)}return{name:"autoScroll",options:n,init:function(a,u){i=a;const{mergeOptions:p,optionsAtMedia:y}=u,m=p(t,o.globalOptions),O=p(m,n);if(e=y(O),i.scrollSnapList().length<=1)return;r=e.startDelay,s=!1,c=i.internalEngine().scrollBody;const{eventStore:w}=i.internalEngine(),b=i.rootNode(),v=e.rootNode&&e.rootNode(b)||b,I=i.containerNode();i.on("pointerDown",f),e.stopOnInteraction||i.on("pointerUp",g),e.stopOnMouseEnter&&(w.add(v,"mouseenter",(()=>{l=!1,f()})),e.stopOnInteraction||w.add(v,"mouseleave",(()=>{l=!0,d()}))),e.stopOnFocusIn&&(i.on("slideFocusStart",f),e.stopOnInteraction||w.add(I,"focusout",d)),e.playOnInit&&d()},destroy:function(){i.off("pointerDown",f).off("pointerUp",g).off("slideFocusStart",f).off("settle",p),f(),s=!0,a=!1},play:function(t){void 0!==t&&(r=t),l=!0,d()},stop:function(){a&&f()},reset:function(){a&&(f(),g())},isPlaying:function(){return a}}}return o.globalOptions=void 0,o}));
